<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
    .wrapper {
        display: flex;
    }
    
    p {
        margin-left: 40px;
        margin-right: 15px;
    }
    
    a {
        user-select: none;
        cursor: pointer;
        padding: 15px 30px;
        background-color: blue;
    }
    
    a:active {
        border: 3px solid black;
    }
    
    #btn {}
    
    #info {
        height: auto;
        margin-top: 15px;
    }
    </style>
</head>

<body>
    <div class="wrapper">
        <p>JSON and AJAX</p>
        <a id="btn"> Click me!</a>
    </div>
    <!-- <br> -->
    <div id="info"></div>
    <script type="text/javascript">
    var btn = document.getElementById("btn");
    var info = document.getElementById("info");
    var ourRequest = new XMLHttpRequest();
    var urlCounter = 1;
    btn.addEventListener('click', function() {
        var urlAdress = 'https://learnwebcode.github.io/json-example/animals-' + urlCounter + '.json ';
        ourRequest.open('GET', urlAdress);
        ourRequest.onload = function() {
            var ourData = JSON.parse(ourRequest.responseText);
            renderInfo(ourData);
        };
        ourRequest.send();
        urlCounter++;
        if (urlCounter > 3) {
            btn.style.display = "none";
        }
        console.log(urlCounter);
    });

    function renderInfo(data) {

        var htmlText = "";
        for (var i = 0, length1 = data.length; i < length1; i++) {
            info.insertAdjacentHTML("beforeend",
                "<p>" + data[i].name + " is a " + data[i].species + " and it like a " + data[i].foods.likes[0] + " and " + data[i].foods.likes[1] + ". </p>");

        }
    }

    // });
    </script>
</body>

</html>
